---
title: 'Stylelintì™€ Husky'
subTitle: 'ë¦°íŠ¸ ì‚¬ìš©í•´ë³´ê¸° (ìŠ¤í„°ë”” ë°œí‘œ ìë£Œ)'
date: '2023-10-30'
tag: 'TIL'
url: 'til-1'
thumbnail: './imgs/1/1.png'
thumbnail_alt: 'Stylelint VSC extension ìº¡ì³ í™”ë©´'
---

# Stylelint

## ì„¤ëª…

ê°•ë ¥í•œ CSS linter.
ì˜¤ë¥˜ë¥¼ ë°©ì§€í•˜ê³  conventionì„ ë”°ë¥´ëŠ”ë° ë„ì›€ì„ ì¤€ë‹¤.

## íŠ¹ì§•

- CSS êµ¬ë¬¸ ë° ê¸°ëŠ¥ì— ëŒ€í•œ 100ê°œ ì´ìƒì˜ ë‚´ì¥ ê·œì¹™ì„ ê°–ì¶”ê³  ìˆë‹¤.
- ì‚¬ìš©ì ì •ì˜ ê·œì¹™ì„ ì‘ì„±í•  ìˆ˜ ìˆëŠ” í”ŒëŸ¬ê·¸ì¸ ì§€ì›.
- ê°€ëŠ¥í•œ ê²½ìš°, ë¬¸ì œë¥¼ ìë™ìœ¼ë¡œ ìˆ˜ì •.
- ì‚¬ìš©ìê°€ ìƒì„±í•˜ê±°ë‚˜ í™•ì¥í•  ìˆ˜ ìˆëŠ” ê³µìœ  ê°€ëŠ¥í•œ configë¥¼ ì§€ì›.
- ì‚¬ìš©ìì˜ ì •í™•í•œ ìš”êµ¬ ì‚¬í•­ì— ë§ê²Œ ì‚¬ìš©ì ì •ì˜ ê°€ëŠ¥.
- ì•ˆì •ì„± ê²€ì¦ë¨.

`Prettier`ì™€ ê°™ì€ pretty printerì™€ ê°™ì´ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤.
ì´ëŠ” ì¼ê´€ë˜ê³  ì˜¤ë¥˜ ì—†ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ”ë° ë„ì›€ì„ ì¤„ ê²ƒì´ë‹¤.

## ì‹œì‘í•˜ê¸°

ì´ë¯¸ êµ¬í˜„ë˜ì–´ ìˆëŠ” [standard config](https://www.npmjs.com/package/stylelint-config-standard) ë¥¼ í™•ì¥í•˜ì—¬ ì´ìš©í•œë‹¤.

### ì„¤ì¹˜

```bash
yarn add stylelint stylelint-config-standard --dev
```

![stylelint ì˜ì¡´ì„± ìº¡ì²˜ í™”ë©´](./imgs/1/2.png)

### íŒŒì¼ ìƒì„±

ìµœìƒë‹¨ í´ë”ì— `.stylelintrc.json` íŒŒì¼ ìƒì„± í›„ extends ì¶”ê°€.

```jsx
// .stylelintrc.json

{
  "extends": [
    "stylelint-config-standard"
  ]
}
```

![stylelintrc.json ìº¡ì²˜ í™”ë©´](./imgs/1/3.png)

### ì‹¤í–‰

ëª¨ë“  CSS íŒŒì¼ì— `stylelint` ê²€ì‚¬ ì§„í–‰í•˜ê¸°.

```jsx
yarn stylelint "**/*.css"
```

![stylelint error ìº¡ì²˜ í™”ë©´](./imgs/1/4.png)

ìœ„ì™€ ê°™ì€ ì˜¤ë¥˜ë“¤ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

### VSC Extension ì„¤ì¹˜

![stylelint VSC extension ìº¡ì²˜ í™”ë©´](./imgs/1/1.png)

ìœ„ì˜ `VSCode extension`ì„ ì„¤ì¹˜í•˜ë©´
ì•„ë˜ì™€ ê°™ì´ íŒŒì¼ì—ì„œ ë°”ë¡œ ì—ëŸ¬ í™”ë©´ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

![stylelint extension ì‹¤í–‰ í™”ë©´](./imgs/1/5.png)

## Customizing

standard configëŠ” built-in rulesì˜ ì ˆë°˜ ì •ë„ë§Œ ì„¤ì •ì´ ë˜ì–´ìˆë‹¤.
`stylelint`ë¡œëŠ” ì´ ë³´ë‹¤ ë” ë§ì€ ì„¤ì •ì„ í•  ìˆ˜ ìˆë‹¤.

[standard config](https://www.npmjs.com/package/stylelint-config-standard)
[built-in rules](https://stylelint.io/user-guide/rules)

### unit ì œí•œ ë‘ê¸°

ì˜ˆë¥¼ ë“¤ì–´,

- ì¼ë°˜ì ìœ¼ë¡  `%`,Â `deg`,Â `px`,Â `rem`,Â `ms`Â ë‹¨ìœ„ë¥¼ ì‚¬ìš©.
- borderì—ëŠ” `px`Â ì‚¬ìš©.
- paddingê³¼ gapì—ëŠ” `rem` ì‚¬ìš©.
- ì°¸ê³ í•  ë§Œ í•œ ê²ƒ
  [[CSS] - When to use ems, rems, and px in CSS](https://www.shecodes.io/athena/28078-when-to-use-ems-rems-and-px-in-css)

ì´ë ‡ê²Œ ê·œì¹™ì„ ì •í•˜ê³  ì‹¶ë‹¤ë©´,

```jsx
// .stylelintrc.json

{
  "extends": ["stylelint-config-standard"],
  "rules": {
    // ...

    "declaration-property-unit-allowed-list": {
      "/^border/": ["px"],
      "/^padding|^gap/": ["rem"]
    },
    "unit-allowed-list": ["%", "deg", "px", "rem", "ms"],

    // ...
  }
}
```

ìœ„ì™€ ê°™ì´ `rules`ë¥¼ ì¶”ê°€í•˜ë©´ ëœë‹¤.

ê·¸ë ‡ê²Œ ìˆ˜ì •í–ˆì„ ì‹œ ì•„ë˜ì™€ ê°™ì€ ì˜¤ë¥˜ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.

![ì˜¤ë¥˜ ìº¡ì²˜ í™”ë©´](./imgs/1/6.png)

### id ì„ íƒì ì‚¬ìš© ê¸ˆì§€ ì‹œí‚¤ê¸°

ì˜ˆë¥¼ ë“¤ì–´, CSS ì„¤ì •ì„ ì£¼ê¸° ìœ„í•´ id ì„ íƒìë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì„ ì œí•œí•˜ê³  ì‹¶ì„ ë•Œ,
ì•„ë˜ì™€ `rules`ë¥¼ ì¶”ê°€í•´ì£¼ë©´ ëœë‹¤.

```jsx
{
  "extends": ["stylelint-config-standard"],
  "rules": {
    "selector-max-id": 0
  }
}
```

ê²°ê³¼ë¬¼.

![ê²°ê³¼ ìº¡ì²˜ í™”ë©´](./imgs/1/7.png)

ë” ë§ì€ `rules`ëŠ” [built-in rules](https://stylelint.io/user-guide/rules)ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

## Custom rules

[built-in rules](https://stylelint.io/user-guide/rules) ì™¸ì— ì¶”ê°€ì ì¸ ê·œì¹™ì„ ì •ì˜í•˜ê¸° ìœ„í•´ `plugins`ì´ ì‚¬ìš©ëœë‹¤.

`rules`ëŠ” ê¸°ë³¸ì ì¸ `stylelint` ê·œì¹™ì„ êµ¬ì„±í•˜ê³  ì‚¬ìš©ì ì •ì˜ ê·œì¹™ì„ ì¶”ê°€í•˜ëŠ” ë° ì‚¬ìš©ë˜ë©°,
`plugins`ëŠ” ì¶”ê°€ì ì¸ ì‚¬ìš©ì ì •ì˜ ê·œì¹™ ì„¸íŠ¸ë¥¼ ì œê³µí•˜ê±°ë‚˜ íŠ¹ì • ê·œì¹™ì„ í™•ì¥í•˜ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤.

ê¸°ë³¸ì ìœ¼ë¡œ `stylelint`ì—ëŠ” ë‚´ì¥ ê·œì¹™ì´ í¬í•¨ë˜ì–´ ìˆìœ¼ë©°,
`plugins`ë¥¼ ì‚¬ìš©í•˜ì—¬ í”ŒëŸ¬ê·¸ì¸ì˜ ì¶”ê°€ ê·œì¹™ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤.

ê·¸ ì¤‘ ê°€ì¥ ëŒ€í‘œì ì¸ ê²ƒì´ order pluginë¥¼ í¬í•¨í•˜ê³  ìˆëŠ” recess order configì´ë‹¤.

[order plugin](https://www.npmjs.com/package/stylelint-order)
[recess order config](https://www.npmjs.com/package/stylelint-config-recess-order)

### stylelint-config-clean-order

[stylelint-order](https://github.com/hudochenkov/stylelint-order) ê·œì¹™ì— ë§ì¶° styleì„ ì •ë ¬í•œë‹¤.

ì‚¬ìš©ë²•

```powershell
yarn add stylelint-config-recess-order --dev
```

ìœ„ì˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•´ ì¤€ ë’¤,

```jsx
// .stylelintrc.json

{
  "extends": [
    "stylelint-config-standard",
    "stylelint-config-recess-order"

    // ...
  ]
}
```

í˜¹ì€,

```jsx
// .stylelintrc.json

{
  "extends": ["stylelint-config-standard"],
  "plugins": ["stylelint-order"],
  "rules": {
    "order/properties-alphabetical-order": true
  }
}
```

ìœ„ì™€ ê°™ì´ pluginsë¥¼ ì¶”ê°€í•´ ì¤€ë‹¤.

ì•„ë˜ì™€ ê°™ì€ ì˜¤ë¥˜ í™”ë©´ì„ ë³¼ ìˆ˜ ìˆë‹¤.

![ì˜¤ë¥˜ ìº¡ì²˜ í™”ë©´](./imgs/1/8.png)

ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•´ì£¼ë©´ ëœë‹¤.

```css
.class {
  width: 100%;
  padding: 3rem;
}
```

### stylelint-config-prettier

`Prettier`ì™€ ì¶©ëŒí•  ìˆ˜ ìˆëŠ” ëª¨ë“  ê·œì¹™ì„ ë¹„í™œì„±í™”í•œë‹¤.

ì‚¬ìš©ë²•

```powershell
yarn add stylelint-config-prettier --dev
```

```jsx
// .stylelintrc.json

{
  "extends": [
    "stylelint-config-standard",
    "stylelint-config-prettier"

    // ...
  ]
}
```

## ì£¼ì„ì—ë„ ì ìš©

`report*` ì†ì„±ì„ ì£¼ì–´ ì£¼ì„ì— ëŒ€í•œ lint ì„¤ì •ì„ í•  ìˆ˜ ìˆë‹¤.

```jsx
// .stylelintrc.json

{
  "extends": ["stylelint-config-standard"],
  "reportDescriptionlessDisables": true,
  "reportNeedlessDisables": true,

  // ...
}
```

- reportDescriptionlessDisables : ì£¼ì„ì— ëŒ€í•œ ì„¤ëª…ì´ ì—†ëŠ” ê²½ìš° ì˜¤ë¥˜ë¥¼ ìƒì„±.

![lint ì—ëŸ¬ ìº¡ì²˜ í™”ë©´](./imgs/1/9.png)

![ì£¼ì„ ì²˜ë¦¬](./imgs/1/10.png)

- reportNeedlessDisables : ì‚¬ìš© ì•ˆë˜ëŠ” ì£¼ì„ì— ëŒ€í•œ ì˜¤ë¥˜ë¥¼ ìƒì„±.

![lint ì—ëŸ¬ ìº¡ì²˜ í™”ë©´](./imgs/1/11.png)

![ì£¼ì„ ì²˜ë¦¬](./imgs/1/12.png)

## ìë™ ìˆ˜ì •

![ë¬´ìˆ˜í•œ lint error ìº¡ì²˜ í™”ë©´](./imgs/1/13.png)

ì´ë ‡ê²Œ ë§ì€ ì˜¤ë¥˜ë¥¼ â€”fix optionì„ ì£¼ì–´ ë¹ ë¥´ê²Œ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.

```jsx
yarn stylelint "**/*.css" --fix
```

ìƒˆë¡œ ì¶”ê°€ëœ `rules`ì™€ `report*` propertiesì™€ ê´€ë ¨ëœ ì˜¤ë¥˜ë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ì˜¤ë¥˜ë“¤ì´ ìë™ìœ¼ë¡œ ìˆ˜ì •ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

![ì‹¤í–‰ ê²°ê³¼ í™”ë©´](./imgs/1/14.png)

ë” ë§ì€ ì˜µì…˜ì€ [ì—¬ê¸°ì„œ](https://stylelint.io/user-guide/options/) í™•ì¸ì´ ê°€ëŠ¥í•˜ë‹¤.

## SCSSì™€ stylelint

[SCSS community config](https://www.npmjs.com/package/stylelint-config-standard-scss) ë¥¼ í™•ì¥í•˜ì—¬ ì‚¬ìš©í•œë‹¤.

### ì„¤ì¹˜

```jsx
npm install --save-dev stylelint stylelint-config-standard-scss
```

.stylelintrc.json íŒŒì¼ì„ ìƒì„±í•œ ë’¤,

```jsx
// .stylelintrc.json

{
  "extends": [
    "stylelint-config-standard-scss"
  ]
}
```

ìœ„ì™€ ê°™ì´ ìˆ˜ì •í•´ì¤€ë‹¤.

```jsx
npx stylelint "**/*.scss"
```

ëª¨ë“  SCSS íŒŒì¼ì— stylelint ê²€ì‚¬ ì§„í–‰í•˜ê¸°.

```
{
  "extends": [
    "stylelint-config-standard"
  ]
}
```

# Husky

commit ë° ê¸°íƒ€ ì‘ì—…ì„ ê°œì„ í•˜ëŠ” ë° ë„ì›€ì„ ì£¼ëŠ” ë„êµ¬.
ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ commit messageë¥¼ ê²€ì‚¬í•˜ê³  commit í•˜ê±°ë‚˜ pushí•  ë•Œ, testë¥¼ ì‹¤í–‰í•˜ê³  ì½”ë“œë¥¼ ê²€ì‚¬í•  ìˆ˜ ìˆë‹¤.

### íŠ¹ì§•

- ì˜ì¡´ì„±ì´ ì—†ì–´ ê°€ë³ë‹¤.
- modern new Git featureì„ í™œìš©í•œë‹¤.
- npm ë° yarnì˜ autoinstallì— ê´€í•œ best practicesë¥¼ ì¤€ìˆ˜.
- ì‚¬ìš©ì ì¹œí™”ì ì¸ ë©”ì„¸ì§€.
- ì‚¬ìš© ì—¬ë¶€ ì„ íƒ ê°€ëŠ¥.
- ì—¬ëŸ¬ OS ì§€ì›.

# ì°¸ê³ ë¬¸ì„œ

[Home | Stylelint](https://stylelint.io/)
[Getting started | Stylelint](https://stylelint.io/user-guide/get-started/)
[Customizing | Stylelint](https://stylelint.io/user-guide/customize/)
[Configuring | Stylelint](https://stylelint.io/user-guide/configure/)
[ğŸ¶ husky | ğŸ¶ husky](https://typicode.github.io/husky/)
[Preventing bad git commits with Husky](https://www.compositional-it.com/news-blog/preventing-bad-git-commits-with-husky/)
